---
date: 2017-03-24 14:31:27
layout: post
title: js多维数组扁平化
comments: true
categories: js
tags: [js]
keywords: js,数组,扁平化
<!--description: js多维数组扁平化-->
---
一道题目实现js多维数组扁平化。类似这种效果:

```javascript
[1,[2, 3],[4, 5, 6], [7, 8, 9,0]] -> [1,2,3,4,5,6,7,8,9,0]
```
<!-- more -->
以下就提供几种数组扁平化的方法:

1、concat方法

```javascript
var dimensionalArr = [1,[2, 3],[4, 5, 6], [7, 8, 9,0]]
var flatArr = Array.prototype.concat.apply([],dimensionalArr)
console.log(flatArr)
```

2、ES6的reset参数...

```javascript
var dimensionalArr = [1,[2, 3],[4, 5, 6], [7, 8, 9,0]]
var flatArr = [].concat(...dimensionalArr)
console.log(flatArr)
```
3、reduce concat,在网上查了下api,reduce这个ES5的方法我一直不咋用

```javascript
//判断是否是数组
function isArray(o) {  
  return Object.prototype.toString.call(o) === '[object Array]';   
} 
var dimensionalArr = [1,[2, 3],[4, 5, 6], [7, 8, 9,0]]
var flatArr = dimensionalArr.reduce((prev,curr)=>{
    //如果不是数组,转成数组
    pre = isArray(prev) ? prev : Array.of(prev)
    curr = isArray(curr) ? curr : Array.of(curr)
    return pre.concat(curr)
})
console.log(flatArr)
```

4、后来自己又google了一下,lodash和underscore都有现成的方法flattern,并且在多层嵌套的情况也有对应的方法flatternDeep。
```javascript
var array = [1, [2, [3, [4]], 5]];
 
_.flattenDepth(array, 1);
// => [1, 2, [3, [4]], 5]
 
_.flattenDepth(array, 2);
// => [1, 2, 3, [4], 5]
```

